---
import { ArrowRight } from '@lucide/astro';

interface Props {
  title: string;
  description: string;
  category: string;
  image: string;
  href: string;
}

const { title, description, category, image, href } = Astro.props;

const categoryLabels: Record<string, string> = {
  'gymnastisch': 'Gymnastisch',
  'dans': 'Dans',
  'balsport': 'Balsport',
  'breed-sporten': 'Breed Sporten',
};

const categoryClasses: Record<string, string> = {
  'gymnastisch': 'badge-gymnastisch',
  'dans': 'badge-dans',
  'balsport': 'badge-balsport',
  'breed-sporten': 'badge-breed',
};
---

<a
  href={href}
  class="group relative rounded-2xl overflow-hidden aspect-[4/3] card-hover block bg-gradient-to-br from-primary to-dark"
>
  <!-- Background image -->
  {image && (
    <img
      src={image}
      alt={title}
      class="absolute inset-0 w-full h-full object-cover"
      loading="lazy"
    />
  )}

  <!-- Pattern overlay -->
  <div class="absolute inset-0 opacity-20">
    <div class="absolute inset-0" style="background: repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(255,255,255,0.05) 20px, rgba(255,255,255,0.05) 22px);"></div>
  </div>

  <!-- Overlay gradient -->
  <div class="absolute inset-0 bg-gradient-to-t from-dark/80 via-dark/30 to-transparent z-0"></div>

  <!-- Decorative accent -->
  <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-accent/30 to-transparent rounded-bl-full transform translate-x-16 -translate-y-16 group-hover:translate-x-8 group-hover:-translate-y-8 transition-transform duration-500 z-0"></div>

  <!-- Content -->
  <div class="absolute inset-0 p-6 flex flex-col justify-between z-10">
    <!-- Category badge -->
    <div class="relative z-20">
      <span class={`inline-flex px-3 py-1.5 rounded-full text-xs font-semibold backdrop-blur-sm ${categoryClasses[category]} shadow-lg`}>
        {categoryLabels[category]}
      </span>
    </div>

    <!-- Title, description and arrow -->
    <div>
      <h3 class="text-white text-xl font-display font-bold group-hover:text-accent transition-colors mb-2">
        {title}
      </h3>
      <p class="text-white/70 text-sm line-clamp-2 mb-3">
        {description}
      </p>
      <div class="flex items-center gap-2 text-sm font-semibold text-accent group-hover:gap-3 transition-all">
        Meer info
        <ArrowRight class="w-4 h-4" />
      </div>
    </div>
  </div>

  <!-- Hover effect -->
  <div class="absolute inset-0 border-2 border-transparent group-hover:border-accent/50 rounded-2xl transition-colors"></div>
</a>
